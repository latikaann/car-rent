"use strict";(self.webpackChunkcar_rent=self.webpackChunkcar_rent||[]).push([[635],{607:function(e,t,s){s.d(t,{Z:function(){return h}});var a=s(439),i=s(791),n={itemContainer:"CatalogItem_itemContainer__gtuxn",imageWrapper:"CatalogItem_imageWrapper__CE9wQ",itemCard:"CatalogItem_itemCard__piki4",favoriteBtn:"CatalogItem_favoriteBtn__2rq1A",itemText:"CatalogItem_itemText__+nLc3",caption:"CatalogItem_caption__Sg1Mt",aboutText:"CatalogItem_aboutText__eZg35",list:"CatalogItem_list__RIpeY",itemBtn:"CatalogItem_itemBtn__+JeVJ"},l=s(488),r=s(237),c={modalOverlay:"Modal_modalOverlay__ZrB5u",modalContainer:"Modal_modalContainer__QjqZb",closeBtn:"Modal_closeBtn__mlOa4",imageWrapper:"Modal_imageWrapper__hOHvh",image:"Modal_image__PGSjp",modalTitle:"Modal_modalTitle__JvsLa",titleBlue:"Modal_titleBlue__QJFdH",firstTextBlock:"Modal_firstTextBlock__c+40c",greyList:"Modal_greyList__o6WKq",greyItems:"Modal_greyItems__DvEz2",firstSubtitle:"Modal_firstSubtitle__9-Q4H",subtitle:"Modal_subtitle__DvDbq",secondTextBlock:"Modal_secondTextBlock__0Rm5Y",thirdBlockList:"Modal_thirdBlockList__yLVBk",rentBtn:"Modal_rentBtn__t7L3z"},o=s(823),d=s(164),m=s(184),u=document.querySelector("#modal-root"),x=function(e){var t=e.isOpen,s=e.onClose,a=e.advert,n=a.make,l=a.model,r=a.img,x=a.year,h=a.rentalPrice,_=a.address,j=a.rentalConditions,p=a.functionalities,f=a.accessories,g=a.type,v=a.id,N=a.engineSize,C=a.fuelConsumption,b=a.description,B=a.mileage,k=(0,i.useCallback)((function(e){var t=e.target,a=e.currentTarget,i=e.code;t!==a&&"Escape"!==i||s()}),[s]);if((0,i.useEffect)((function(){return document.addEventListener("keydown",k),function(){return document.removeEventListener("keydown",k)}}),[k]),!t)return null;var y=_.split(","),T=y[1]?y[1].trim():"",I=y[2]?y[2].trim():"",M=j.split("\n");var S=B.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return(0,d.createPortal)((0,m.jsx)("div",{className:c.modalOverlay,onClick:k,children:(0,m.jsxs)("div",{className:c.modalContainer,children:[(0,m.jsx)("button",{className:c.closeBtn,onClick:s,children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)("div",{className:c.imageWrapper,children:(0,m.jsx)("img",{src:r,className:c.image,alt:"Car"})}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:c.firstTextBlock,children:[(0,m.jsxs)("h2",{className:c.modalTitle,children:[n," ",(0,m.jsx)("span",{className:c.titleBlue,children:l}),", ",x]}),(0,m.jsxs)("ul",{className:c.greyList,children:[(0,m.jsxs)("li",{className:c.greyItems,children:[(0,m.jsx)("p",{children:T}),(0,m.jsx)("p",{children:I}),(0,m.jsxs)("p",{children:["Id: ",v]}),(0,m.jsxs)("p",{children:["Year: ",x]}),(0,m.jsxs)("p",{children:["Type: ",g]})]}),(0,m.jsxs)("li",{className:c.greyItems,children:[(0,m.jsxs)("p",{children:["Fuel Consumption: ",C]}),(0,m.jsxs)("p",{children:["Engine Size: ",N]})]})]}),(0,m.jsx)("p",{className:c.firstSubtitle,children:b})]}),(0,m.jsxs)("div",{className:c.secondTextBlock,children:[(0,m.jsx)("h3",{className:c.subtitle,children:"Accessories and functionalities:"}),(0,m.jsxs)("ul",{className:c.greyList,children:[(0,m.jsx)("li",{className:c.greyItems,children:f.map((function(e){return(0,m.jsx)("p",{children:e},e)}))}),(0,m.jsx)("li",{className:c.greyItems,children:p.map((function(e){return(0,m.jsx)("p",{children:e},e)}))})]})]}),(0,m.jsxs)("div",{className:c.thirdTextBlock,children:[(0,m.jsx)("h3",{className:c.subtitle,children:"Rental Conditions:"}),(0,m.jsxs)("ul",{className:c.thirdBlockList,children:[M.map((function(e,t){return(0,m.jsx)("li",{children:e.includes(":")?(0,m.jsxs)(m.Fragment,{children:[e.split(":")[0],":"," ",(0,m.jsx)("span",{children:e.split(":")[1]})]}):e},t)})),(0,m.jsxs)("li",{children:["Mileage: ",(0,m.jsx)("span",{children:S})]}),(0,m.jsxs)("li",{children:["Price: ",(0,m.jsx)("span",{children:h})]})]})]})]}),(0,m.jsx)("button",{type:"button",className:c.rentBtn,children:"Rental car"})]})}),u)},h=function(e){var t=e.advert,s=e.toggleFavoriteHandler,c=e.isFavorite,o=e.removeFromFavorites,d=(0,i.useState)(!1),u=(0,a.Z)(d,2),h=u[0],_=u[1],j=t.make,p=t.model,f=t.img,g=t.year,v=t.rentalPrice,N=t.address,C=t.rentalCompany,b=t.functionalities,B=t.type,k=t.id,y=N.split(","),T=y[1]?y[1].trim():"",I=y[2]?y[2].trim():"";return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("li",{className:n.itemContainer,children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:n.imageWrapper,children:[(0,m.jsx)("img",{src:f,alt:"",className:n.itemCard}),(0,m.jsx)("button",{type:"button",className:n.favoriteBtn,onClick:function(){s(t),c&&o(t)},children:c?(0,m.jsx)(r.Z,{className:n.favoriteIcon}):(0,m.jsx)(l.Z,{className:n.favoriteIcon})})]}),(0,m.jsxs)("div",{className:n.itemText,children:[(0,m.jsxs)("p",{className:n.caption,children:[j," ",(0,m.jsx)("span",{children:p}),", ",g]}),(0,m.jsx)("p",{className:n.caption,children:v})]}),(0,m.jsxs)("ul",{className:n.list,children:[(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:T})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:I})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:C})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:"Premium"})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:B})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:p})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:k})}),(0,m.jsx)("li",{children:(0,m.jsx)("p",{className:n.aboutText,children:b[0]})})]})]}),(0,m.jsx)("button",{onClick:function(){_(!0)},type:"button",className:n.itemBtn,children:"Learn more"})]}),(0,m.jsx)(x,{isOpen:h,onClose:function(){_(!1)},advert:t})]})}},812:function(e,t,s){s.d(t,{Z:function(){return n}});s(791);var a="LoadMoreBtn_loadMoreBtn__EJd7v",i=s(184),n=function(e){var t=e.onClick;return(0,i.jsx)("button",{type:"button",className:a,onClick:t,children:"Load more"})}},635:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var a=s(433),i=s(439),n=s(791),l=s(243),r="Catalog_cardsContainer__vGaxI",c=s(607),o=s(429),d=s.n(o),m=s(812),u=s(184),x=function(){var e=(0,n.useState)([]),t=(0,i.Z)(e,2),s=t[0],o=t[1],x=(0,n.useState)(8),h=(0,i.Z)(x,2),_=h[0],j=h[1],p=(0,n.useState)([]),f=(0,i.Z)(p,2),g=f[0],v=f[1];(0,n.useEffect)((function(){l.Z.get("https://6506dab33a38daf4803ec7a8.mockapi.io/api/cars").then((function(e){o(e.data)})).catch((function(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}))}),[]);(0,n.useEffect)((function(){var e=localStorage.getItem("favorites");e&&v(JSON.parse(e))}),[]);var N=function(e){var t=(0,a.Z)(g),s=t.findIndex((function(t){return t.id===e.id}));-1!==s?t.splice(s,1):t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),v(t)},C=function(e){var t=g.filter((function(t){return t.id!==e.id}));v(t),localStorage.setItem("favorites",JSON.stringify(t))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ul",{className:r,children:s.slice(0,_).map((function(e,t){return(0,u.jsx)(c.Z,{advert:e,toggleFavoriteHandler:N,isFavorite:g.some((function(t){return t.id===e.id})),removeFromFavorites:C,isCatalog:!0},d().generate())}))}),_<s.length&&(0,u.jsx)(m.Z,{onClick:function(){j((function(e){return e+8}))}})]})}}}]);
//# sourceMappingURL=635.d33ec388.chunk.js.map